<!DOCTYPE html>
<html>
<head>
  <title>微信</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="./lib/tailwind.css" rel="stylesheet">
  <style>
    html,body{
      height: 100vh;
      margin:0;
      padding:0;
    }
    .header{
      height: 50px;
      line-height:50px;
      background-color: #d8d8d8;
      color: #000;
      font-weight: bold;
      padding: 0 10px;
      justify-content: space-between;
      display: flex;
    }
    .nav{
      height: 50px;
      line-height:50px;
    }
    li{
      height: 80px;
      line-height:80px;
      padding:0 10px;
      background: #fff;
    }
    .avatar{
      width:50px;
      height: 50px;
      text-align: center;
      line-height: 50px;
      border-radius: 10px;
      background: #ffeb3b;
      display: inline-block;
      margin: 10px;
    }
    /* slideIns */
    .transition{
      transition: all 0.2s;
      overflow: hidden;
    }
    /* 从右边进入 */
    .slideInRight{
      transform: translateX(100%);
    }
    .slideInRight.slidingInRight{
      transform: translateX(0);
    }
    .page{
      position: absolute;
      left: 0;
      top: 0;
      width: 100vw;
      height: 100vh;
    }
  </style>
</head>
<body id="body">
	<div id="app" class="h-full">
  </div>
  <script src="./lib/jq.js"></script>
  <script src="./page.js"></script>
  <script src="./utils.js"></script>
  <script src="./pageStack.js"></script>
  <script src="./router.js"></script>
  <script type="text/javascript">
  
      let chatPageComponent = new Component({
        id: 'a',
        HTML:'<div class="bg-red-300 h-full"><div class="header"><span event="goBack">返回</span><span>我和老王的聊天窗口</span><span></span></div><div><span class="avatar" event="gotoWInfo">点我</span><span>你好啊</span></div></div>'
      })

      let wangInfoPageComponent = new Component({
        id:'b',
        HTML:`<div class="bg-yellow-200 h-full">
          <div class="header"><span event="goBack">返回</span><span>老王的信息</span><span></span></div><div >
            <ul><li><span class="avatar">王</span>姓名：老王 微信号：9527</li></ul>
            <ul event="gotoWFC"><li id="toWangFriendCircleBtn"><span class="avatar" >王</span>点我进入老王的朋友圈</li></ul>
          </div>
          </div>`
      })

      let friendsCirclePageWangComponent = new Component({
        id:'c',
        HTML:'<div class="bg-green-300 h-full"><div class="header"><span event="goBack">返回</span></div>这是老王的朋友圈</div>'
      })

      let config = [
        {
          id: 'friendsCirclePageWang',
          component: friendsCirclePageWangComponent,
          path: '/friendsCirclePageWang'
        },
        {
          id: 'chatPage',
          component: chatPageComponent,
          path: '/chatPage'
        },
        {
          id: 'wangInfoPage',
          component: wangInfoPageComponent,
          path: '/wangInfoPage'
        }
      ]

      let router = new Router(config)
      
      // 显示聊天窗口
      router.goTo('/chatPage')

      function goBack(){
        router.goBack()
      }
      function gotoWInfo(){
        router.goTo('/wangInfoPage')
      }
      function gotoWFC(){
        router.goTo('/friendsCirclePageWang')
      }
	</script>
</body>
</html>